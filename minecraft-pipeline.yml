parameters:
  containerGroups_aci_minecraft_container_workspaceKey:
    type: SecureString
  containerGroups_aci_minecraft_container_name:
    defaultValue: aci-minecraft-container
    type: String
variables: {}
resources:
- type: Microsoft.ContainerInstance/containerGroups
  apiVersion: 2024-10-01-preview
  name: "[parameters('containerGroups_aci_minecraft_container_name')]"
  location: eastus
  properties:
    sku: Standard
    containers:
    - name: "[parameters('containerGroups_aci_minecraft_container_name')]"
      properties:
        image: itzg/minecraft-bedrock-server
        ports:
        - protocol: TCP
          port: 80
        - protocol: UDP
          port: 19132
        environmentVariables:
        - name: EULA
          value: 'True'
        resources:
          requests:
            memoryInGB: 8
            cpu: 4
    initContainers: []
    restartPolicy: OnFailure
    ipAddress:
      ports:
      - protocol: TCP
        port: 80
      - protocol: UDP
        port: 19132
      ip: 20.242.184.97
      type: Public
      dnsNameLabel: smokagecraft
      autoGeneratedDomainNameLabelScope: ResourceGroupReuse
    osType: Linux
    diagnostics:
      logAnalytics:
        workspaceId: 83b699c5-b208-462a-982f-4526af8fb992
        logType: ContainerInstanceLogs
        workspaceKey: "[parameters('containerGroups_aci_minecraft_container_workspaceKey')]"
